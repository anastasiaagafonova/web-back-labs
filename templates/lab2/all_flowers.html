{% extends "base.html" %}

{% block lab %}Лабораторная работа 2{% endblock %}

{% block main %}
    <h1>Все цветы</h1>
    
    <div class="flowers-info">
        <p><strong>Общее количество цветов:</strong> {{ count }}</p>
    </div>

    {% if flowers %}
        <ul class="flowers-list">
            {% for flower in flowers %}
                <li>
                    <strong>{{ flower.name }}</strong> - {{ flower.price }} руб.
                    <a href="{{ url_for('lab2.flowers', flower_id=loop.index0) }}">подробнее</a> |
                    <a href="{{ url_for('lab2.delete_flower', flower_id=loop.index0) }}">удалить</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Список цветов пуст</p>
    {% endif %}

    <div class="actions">
        <a href="{{ url_for('lab2.clear_flowers') }}">Очистить список цветов</a> |
        <form method="POST" action="{{ url_for('lab2.add_flower') }}" style="display: inline; margin: 0 10px;">
            <label for="name">Название: </label>
            <input type="text" id="name" name="name" required placeholder="Введите имя цветка" style="width: 150px;">
            <label for="price"> Цена: </label>
            <input type="number" id="price" name="price" required min="0" step="0.01" placeholder="0.00" style="width: 80px;">
            <input type="submit" value="Добавить цветок" style="margin-left: 5px;">
        </form> |
        <a href="/lab2/">Назад к лабораторной 2</a>
    </div>
{% endblock %}